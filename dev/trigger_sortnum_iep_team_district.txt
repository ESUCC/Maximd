-- jesse's local system----\i '/Applications/ZendServer/apache2/htdocs/neb_srs/dev/trigger_sortnum_iep_team_district.txt'---- carlos's local system--\i '/usr/local/zend/apache2/htdocs/srs-zf/dev/trigger_sortnum_iep_team_district.txt'drop trigger "iep_team_district_intisortnum" on iep_team_district;DROP FUNCTION "iep_team_district_intisortnum"();CREATE FUNCTION "iep_team_district_intisortnum"() RETURNS TRIGGER AS '    DECLARE             INSERT_RESULT       record;    BEGIN                ----------------------------------------------------------------------------------------------------------------        ----------------------------------------------------------------------------------------------------------------        --         -- CHECK TO SEE IF nonPubCounty ONLY HAS CHANGED        --         RAISE NOTICE ''NEW.id_form_004: %'', NEW.id_form_004;                IF NEW.sortnum is null THEN            RAISE NOTICE ''sortnum NULL'';                        SELECT INTO INSERT_RESULT max(sortnum) as maxid from iep_team_district where id_form_004 = NEW.id_form_004;                        RAISE NOTICE ''maxid: %'', INSERT_RESULT.maxid;            --            -- UPDATE THE SORTNUM FIELD WITH THE NEXT SERIAL NUMBER            --            NEW.sortnum := INSERT_RESULT.maxid + 1;         END IF;                ----------------------------------------------------------------------------------------------------------------         ----------------------------------------------------------------------------------------------------------------                    RETURN NEW;         END;' LANGUAGE 'plpgsql';create trigger iep_team_district_intisortnum BEFORE insert on iep_team_district for each row EXECUTE PROCEDURE iep_team_district_intisortnum ('');--insert into iep_team_other (id_form_004) VALUES ('1255692');